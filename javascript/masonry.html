<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Masonry Layout with Gemini API</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            padding: 10px;

            .masonry-container {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
                /* grid-auto-flow: dense; */
                grid-auto-rows: 16px;
                background-color: aqua;
                gap: 10px;
                padding: 10px;

                .card {
                    display: flex;
                    flex-direction: column;
                    background-color: pink;
                    border: 2px solid black;
                    padding: 10px;
                    gap: 10px;


                    .card-heading {
                        display: block;
                        position: relative;
                        font-size: 24px;

                        .card-subject {}

                        .card-modify {
                            display: flex;
                            position: absolute;
                            top: 0;
                            right: 0;
                        }

                    }

                    .card-detail {
                        overflow: hidden;
                    }
                }

                /* #card-1 {
                    grid-row-end: span 10;
                }

                #card-2 {
                    grid-row-end: span 13;
                }

                #card-3 {
                    grid-row-end: span 19;
                }

                #card-4 {
                    grid-row-end: span 15;
                }

                #card-5 {
                    grid-row-end: span 14;
                }

                #card-6 {
                    grid-row-end: span 15;
                }

                #card-7 {
                    grid-row-end: span 9;
                } */
            }
        }
    </style>
</head>

<body>

    <div class="masonry-container" id="masonry-container">
        <!-- Card 1 -->
        <div class="card" id="card-1">
            <div class="card-heading">
                <h3 class="card-subject">The Art of Slowing Down 1</h3>
                <div class="card-modify">
                    <p class="card-edit">üñãÔ∏è</p>
                    <p class="card-delete">‚úñÔ∏è</p>
                </div>
            </div>
            <p class="card-detail">
                Modern life moves at an incredible pace. Notifications, deadlines, and constant connectivity often
                leave us feeling overwhelmed. Slowing down isn‚Äôt just a luxury; it‚Äôs a necessity for mental and physical
                health. When you allow yourself moments of stillness, you create space for creativity, clarity, and
                emotional balance. Slowing down can be as simple as savoring your morning coffee without checking your
                phone or taking a short walk without headphones.
            </p>
        </div>

        <!-- Card 2 -->
        <div class="card" id="card-2">
            <div class="card-heading">
                <h3 class="card-subject">The Digital Detox Revolution 2</h3>
                <div class="card-modify">
                    <p class="card-edit">üñãÔ∏è</p>
                    <p class="card-delete">‚úñÔ∏è</p>
                </div>
            </div>
            <p class="card-detail">
                Our world is hyper-connected, and while technology has countless benefits, it also has a dark side.
                Overexposure to screens can lead to mental fatigue, sleep disorders, and decreased social
                engagement. A digital detox doesn‚Äôt mean abandoning technology entirely; rather, it‚Äôs about reclaiming
                balance.
                Start by setting boundaries: no screens during meals, turning off notifications, or designating
                tech-free
                hours. These small steps help retrain your brain to focus on meaningful interactions instead of constant
                digital stimulation. People who practice digital detoxes often report higher productivity, better
                relationships, and improved mental clarity. In a society that glorifies busyness, disconnecting may be
                the ultimate act of self-care.
            </p>
        </div>

        <!-- Card 3 -->
        <div class="card" id="card-3">
            <div class="card-heading">
                <h3 class="card-subject">Why Habits Shape Our Lives 3</h3>
                <div class="card-modify">
                    <p class="card-edit">üñãÔ∏è</p>
                    <p class="card-delete">‚úñÔ∏è</p>
                </div>
            </div>
            <p class="card-detail">
                Habits account for nearly half of our daily actions, making them a powerful force in shaping our
                future. Positive habits like exercising, journaling, or reading compound over time, producing
                extraordinary
                results. Likewise, negative habits can create downward spirals if left unchecked. The science behind
                habit formation revolves around the habit loop: cue, routine, and reward. By understanding these
                stages, you can break bad habits and establish good ones. For instance, if you want to start running,
                pair
                it with an existing habit like your morning coffee. Place your running shoes nearby to act as a cue.
                Over time, consistency rewires the brain, turning effortful actions into automatic behaviors that define
                who we become.The science behind habit formation revolves around the habit loop: cue, routine, and
                reward. By understanding these stages, you can break bad habits and establish good ones. For instance,
                if
                you want to start running, pair it with an existing habit like your morning coffee. Place your running
                shoes nearby to act as a cue. Over time, consistency rewires the brain, turning effortful actions into
                automatic behaviors that define who we become.
            </p>
        </div>

        <!-- Card 4 -->
        <div class="card" id="card-4">
            <div class="card-heading">
                <h3 class="card-subject">Climate Change and Responsibility 4</h3>
                <div class="card-modify">
                    <p class="card-edit">üñãÔ∏è</p>
                    <p class="card-delete">‚úñÔ∏è</p>
                </div>
            </div>
            <p class="card-detail">
                Climate change isn‚Äôt a distant problem anymore‚Äîit‚Äôs a present reality with devastating consequences.
                From rising sea levels to record-breaking heatwaves, its effects are visible worldwide. While
                governments and corporations play a significant role in reducing carbon emissions, individual
                actions matter too. Choosing sustainable practices like reducing plastic, conserving water, and opting
                for
                renewable energy can collectively make a difference. Businesses that adopt eco-friendly measures are
                also seeing consumer trust and loyalty grow. Addressing climate change requires global cooperation,
                innovation, and individual responsibility. It‚Äôs not about perfection but progress‚Äîsmall changes
                across millions of lives can lead to monumental impact for future generations.
            </p>
        </div>

        <!-- Card 5 -->
        <div class="card" id="card-5">
            <div class="card-heading">
                <h3 class="card-subject">Emotional Intelligence in Work 5 </h3>
                <div class="card-modify">
                    <p class="card-edit">üñãÔ∏è</p>
                    <p class="card-delete">‚úñÔ∏è</p>
                </div>
            </div>
            <p class="card-detail">
                Emotional intelligence (EQ) has become a critical skill in modern workplaces. It refers to the
                ability to recognize, understand, and manage emotions‚Äîboth your own and those of others. Unlike IQ,
                which is
                relatively static, EQ can be developed with conscious practice. High EQ professionals navigate
                conflicts effectively, inspire trust, and foster collaboration. Employers value this skill because it
                promotes
                team harmony and resilience in high-pressure environments. Techniques such as active listening,
                empathy exercises, and mindfulness can significantly enhance EQ. In a competitive world, where technical
                skills are common, emotional intelligence often becomes the deciding factor for leadership and long-term
                success.
            </p>
        </div>

        <!-- Card 6 -->
        <div class="card" id="card-6">
            <div class="card-heading">
                <h3 class="card-subject">The Remote Work Revolution 6</h3>
                <div class="card-modify">
                    <p class="card-edit">üñãÔ∏è</p>
                    <p class="card-delete">‚úñÔ∏è</p>
                </div>
            </div>
            <p class="card-detail">
                Remote work has shifted from an occasional perk to a mainstream employment model. Technological
                advancements in communication and project management tools have made it possible for teams to
                collaborate from anywhere in the world. While remote work offers flexibility and reduces commuting
                stress, it also presents challenges like isolation and blurred boundaries between work and home
                life. Employers need strategies to keep teams engaged, such as virtual meetups and regular feedback
                sessions. Hybrid work models are emerging as a balanced approach, offering flexibility without
                compromising
                team cohesion. As the trend evolves, organizations must adapt policies to maintain productivity and
                employee well-being in a decentralized work environment.
            </p>
        </div>

        <!-- Card 7 -->
        <div class="card" id="card-7">
            <div class="card-heading">
                <h3 class="card-subject">The Science of Sleep 7</h3>
                <div class="card-modify">
                    <p class="card-edit">üñãÔ∏è</p>
                    <p class="card-delete">‚úñÔ∏è</p>
                </div>
            </div>
            <p class="card-detail">
                Sleep is often treated as a luxury, but it‚Äôs a fundamental pillar of health. During sleep, the body
                repairs tissues, the brain consolidates memories, and hormones regulate essential functions. Chronic
                sleep deprivation is linked to obesity, anxiety, and reduced cognitive performance. Despite its
                importance, modern lifestyles disrupt natural sleep patterns.
            </p>
        </div>

    </div>
    <script>
    </script>
</body>
<script>
    const masonryContainer = document.querySelector(".masonry-container");
    const cards = Array.from(masonryContainer.children);

    const gap = 10;
    const padding = 10;
    const gridAutoRows = parseInt(
        getComputedStyle(masonryContainer).getPropertyValue("grid-auto-rows"));
    console.log(gridAutoRows);
    console.log("");


    const column = getComputedStyle(masonryContainer).getPropertyValue("grid-template-columns").split(" ");
    const columnCount = column.length;
    let columnsHeight = new Array(columnCount).fill(0);

    console.log("");

    cards.forEach(card => {
        console.log(card.clientHeight);
    });

    console.log("");


    cards.forEach(card => {
        const cardHeight = (getTrueHeight(card));
        const span = Math.ceil((cardHeight + gap) / (gridAutoRows + gap));
        console.log(cardHeight + " / " + span);

        card.style.gridRowEnd = `span ${span}`
    })

    function getTrueHeight(card) {
        const clone = card.cloneNode(true);
        clone.style.position = "absolute";
        clone.style.visibility = "hidden";
        clone.style.width = `${card.offsetWidth}px`;
        clone.style.height = "auto";
        clone.style.zIndex = -1;

        const computedStyle = window.getComputedStyle(card);

        // Ensure width matches exactly (including box-sizing)
        clone.style.width = `${card.offsetWidth}px`;
        clone.style.boxSizing = computedStyle.boxSizing;
        clone.style.padding = computedStyle.padding;
        clone.style.border = computedStyle.border;
        clone.style.margin = "0"; // Remove margin to avoid interference

        // Copy text-related properties that affect wrapping
        clone.style.fontSize = computedStyle.fontSize;
        clone.style.fontFamily = computedStyle.fontFamily;
        clone.style.fontWeight = computedStyle.fontWeight;
        clone.style.lineHeight = computedStyle.lineHeight;
        clone.style.wordWrap = computedStyle.wordWrap;
        clone.style.wordBreak = computedStyle.wordBreak;
        clone.style.whiteSpace = computedStyle.whiteSpace;
        card.parentNode.prepend(clone);
        let height = parseInt(clone.getBoundingClientRect().height);
        card.parentNode.removeChild(clone);
        return (height);
    }


</script>

</html>